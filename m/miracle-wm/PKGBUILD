# Maintainer: Your Name <youremail@domain.com>
# Contributor: Fabio 'Lolix' Loli <fabio.loli@disroot.org>

pkgname=miracle-wm
pkgver=0.8.2
pkgrel=1
pkgdesc="Wayland tiling window manager built on Mir"
arch=(x86_64)
url="https://github.com/miracle-wm-org/miracle-wm"
license=(GPL-3.0-only)
depends=(mir libnotify)
makedepends=(git cmake nlohmann-json glm boost)
source=("git+https://github.com/miracle-wm-org/miracle-wm.git#tag=v${pkgver}")
sha256sums=('c2e45ed6c6e74da5943f41caa845e32cbddab3d62a3e0e61b7ef2b9b41ff1c69')

build() {
  cmake -B build -S "miracle-wm" -Wno-dev \
    -DCMAKE_BUILD_TYPE=None \
    -DCMAKE_INSTALL_PREFIX=/usr

  cmake --build build
}

package() {
  DESTDIR="$pkgdir" cmake --install build
}
